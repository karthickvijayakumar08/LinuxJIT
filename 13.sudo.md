Here are **Linux SUDO lab exercise questions**
---

# ‚úÖ **SUDO Lab Exercise Questions
---

## **1Ô∏è‚É£ Basic SUDO Usage**

### **Q1. Give sudo access to a normal user**

**Task:**

Create a user `devuser` and give them sudo access to run all commands.

**Expected:**

* User created
* Added to wheel/sudo group
* Verified using `sudo -l`

---

## **Q2. Allow a user to run only one command with sudo**

**Task:**
Allow user **john** to run only the command:

```
/usr/bin/systemctl restart httpd
```

but no other sudo commands.

**Expected:**

* `/etc/sudoers.d/john` file created
* Only the above command allowed
* `john` cannot run `sudo su`

---

## **2Ô∏è‚É£ Sudoers Configuration**

### **Q3. Create a sudoers file using visudo**

**Task:**
Create a sudoers rule that allows group **ops** to run all commands on the server.

**Expected:**

* Group created
* Added in `/etc/sudoers` using `visudo`

---

### **Q4. Disable password prompt for sudo**

**Task:**
Allow user `admin1` to run all commands without a password.

**Expected:**
Entry like:

```
admin1 ALL=(ALL) NOPASSWD: ALL
```

---

### **Q5. Restrict sudo to specific host**

**Task:**
Allow user *ram* to run sudo commands only on *hostname = appserver*.

**Expected:**
Host alias configuration added.

---

## **3Ô∏è‚É£ Advanced SUDO Scenarios**

### **Q6. Log all sudo commands**

**Task:**
Configure sudo so that all commands run by user `devops` are logged in `/var/log/sudo.log`.

**Expected:**
Sudoers entry:

```
Defaults:devops logfile=/var/log/sudo.log
```

---

### **Q7. Create a command alias in sudoers**

**Task:**
Create command alias **NETCMDS** for these commands:

```
/usr/sbin/ifconfig
/usr/sbin/ip
/usr/bin/ping
```

Give group **networkteam** permission to run NETCMDS.

---

### **Q8. Block a sudo user from running dangerous commands**

**Task:**
Allow user `tester` to run any command except:

```
su
passwd
shutdown
```

---

### **Q9. Sudo with environment variable protection**

**Task:**
Prevent user `dev1` from using the environment variable `PATH` swap attack.

**Expected:**

```
Defaults secure_path= /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
```

---

### **10Ô∏è‚É£ Configure sudo timeout**

**Task:**
Change sudo default timeout for user `sam` to **1 minute**.

**Expected:**

```
Defaults:sam timestamp_timeout=1
```

---

# üìò **BONUS LAB TASKS (Real DevOps Scenarios)**

---

### **11. Allow Jenkins user to restart only tomcat service**

```
jenkins ALL=NOPASSWD: /usr/bin/systemctl restart tomcat
```

---

### **12. Create a dedicated sudoers file**

**Task:**
Create a file:

```
/etc/sudoers.d/app_team
```

with specific rules.

---

### **13. Validate sudoers file**

**Task:**
Check for errors in sudo configuration.

**Expected command:**

```
visudo -c
```
